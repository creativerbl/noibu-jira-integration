try{window.performance.mark("NewPermissionErrorView.js:eval-start")}catch(e){}
function e(e){return e&&e.__esModule?e.default:e}function s(e,s,r,t){Object.defineProperty(e,s,{get:r,set:t,enumerable:!0,configurable:!0})}var r=globalThis,t={},a={},i=r.parcelRequire49d7;null==i&&((i=function(e){if(e in t)return t[e].exports;if(e in a){var s=a[e];delete a[e];var r={id:e,exports:{}};return t[e]=r,s.call(r.exports,r,r.exports),r.exports}var i=Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,s){a[e]=s},r.parcelRequire49d7=i);var c=i.register;r.lb||(r.lb=new Set,r.bq=[],r.rlb=e=>{r.lb.add(e),r.pq()},r.rwr=(e,s,t)=>{r.bq.push({b:e,r:s,d:t}),r.pq()},r.pq=()=>{var e=r.bq.find(e=>e.d.every(e=>r.lb.has(e)));e&&(r.bq=r.bq.filter(s=>s.b!==e.b),e.r(),r.pq())}),c("51lm1",function(r,t){s(r.exports,"NewPermissionErrorView",()=>l),s(r.exports,"default",()=>p);var a=i("bNhhZ"),c=i("eJOHy"),u=i("j4oe4");let l=(0,i("1ClZA").isReactCompilerForIssueViewSimplePackagesEnabled)()?()=>{let s,r,t,u,l,p,m,y,f,g,w=(0,a.c)(31),{formatMessage:q}=(0,i("lRq8t").default)(),{showFlag:A}=(0,i("cSXp8").useFlagsService)(),{push:b}=(0,i("83DiZ").useRouterActions)(),{createAnalyticsEvent:k}=(0,i("ftN6c").useAnalyticsEvents)(),v=(0,i("e6YEs").useAccountId)(),E=(0,i("85yKB").useIssueKey)(),S=(0,i("1rEWa").useProjectKey)(E),j=(0,i("85yKB").useBoardId)(),[I,_]=(0,c.useState)(!1),[h,R]=(0,c.useState)(!1);w[0]!==v||w[1]!==j||w[2]!==k||w[3]!==E||w[4]!==S||w[5]!==b||w[6]!==A?(s=async()=>{(0,i("kRgKj").fireUIAnalytics)(k({}),"button clicked","requestProjectAccess"),v&&E&&(_(!0),await (0,i("jDcpo").requestAccess)({accountId:v,projectKey:S,issueKey:E,boardId:j},"/rest/internal/latest/project-access/access-requested"),(0,i("4cTDP").fg)("jira_add_analytics_to_issue_request_access_button")&&(0,i("kRgKj").fireTrackAnalytics)(k({}),"projectAccess requested",{requestedForUserId:v,issueKey:E,boardId:j}),A({title:i("4ItiH").messages.requestAccessSuccessTitle,type:"success",isAutoDismiss:!0,messageType:"transactional",messageId:"issue-view-errors.show-flag.success.flag.success.request-access-success.new-permission-error-view",actions:[{content:i("4ItiH").messages.requestAccessSuccessAction,onClick:()=>{b("/jira/your-work")}}]}),R(!0),_(!1))},w[0]=v,w[1]=j,w[2]=k,w[3]=E,w[4]=S,w[5]=b,w[6]=A,w[7]=s):s=w[7];let x=s;if(w[8]!==q||w[9]!==x||w[10]!==I){let s=()=>e(c).createElement(i("5CSKW").default,{appearance:"primary",onClick:x,isLoading:I,interactionName:"jira-issue-view-errors.ui.new-permission-error-view.request-access-button"},q(i("4ItiH").messages.requestAccessButton));r=()=>(0,i("cxKOj").expVal)("jira_space_request_access_toggle","isEnabled",!1)?e(c).createElement(i("6pJMC").JSErrorBoundary,{id:"jira.issue-view.permission-error-view.request-access-button-wrapper",packageName:"issue-view-errors",teamName:"jira-warepil",fallback:"unmount"},e(c).createElement(d,null,s())):s(),w[8]=q,w[9]=x,w[10]=I,w[11]=r}else r=w[11];let H=r,T=!!v;return w[12]!==T?(t={requestAccessButtonShown:T},w[12]=T,w[13]=t):t=w[13],w[14]!==q?(u=q(i("4ItiH").messages.permissionErrorHeader),w[14]=q,w[15]=u):u=w[15],w[16]!==q?(l=q(i("4ItiH").messages.permissionErrorDescription),w[16]=q,w[17]=l):l=w[17],w[18]===Symbol.for("react.memo_cache_sentinel")?(p=(0,i("aTJmy").getAkEmptyStateRenderImageFn)(i("bkcPe").default),w[18]=p):p=w[18],w[19]!==v||w[20]!==h||w[21]!==H?(m=v&&!h?H():null,w[19]=v,w[20]=h,w[21]=H,w[22]=m):m=w[22],w[23]!==u||w[24]!==l||w[25]!==m?(y=e(c).createElement(i("6MnLl").default,{testId:"issue-view-errors.ui.new-permission-error-view.permission-error-view",header:u,description:l,renderImage:p,primaryAction:m}),w[23]=u,w[24]=l,w[25]=m,w[26]=y):y=w[26],w[27]===Symbol.for("react.memo_cache_sentinel")?(f=e(c).createElement(i("eS29z").FireScreenAnalytics,null),w[27]=f):f=w[27],w[28]!==t||w[29]!==y?(g=e(c).createElement(i("kGj4V").ContextualAnalyticsData,{sourceName:o,sourceType:n,attributes:t},y,f),w[28]=t,w[29]=y,w[30]=g):g=w[30],g}:()=>{let{formatMessage:s}=(0,i("lRq8t").default)(),{showFlag:r}=(0,i("cSXp8").useFlagsService)(),{push:t}=(0,i("83DiZ").useRouterActions)(),{createAnalyticsEvent:a}=(0,i("ftN6c").useAnalyticsEvents)(),u=(0,i("e6YEs").useAccountId)(),l=(0,i("85yKB").useIssueKey)(),p=(0,i("1rEWa").useProjectKey)(l),m=(0,i("85yKB").useBoardId)(),[y,f]=(0,c.useState)(!1),[g,w]=(0,c.useState)(!1),q=(0,c.useCallback)(async()=>{(0,i("kRgKj").fireUIAnalytics)(a({}),"button clicked","requestProjectAccess"),u&&l&&(f(!0),await (0,i("jDcpo").requestAccess)({accountId:u,projectKey:p,issueKey:l,boardId:m},"/rest/internal/latest/project-access/access-requested"),(0,i("4cTDP").fg)("jira_add_analytics_to_issue_request_access_button")&&(0,i("kRgKj").fireTrackAnalytics)(a({}),"projectAccess requested",{requestedForUserId:u,issueKey:l,boardId:m}),r({title:i("4ItiH").messages.requestAccessSuccessTitle,type:"success",isAutoDismiss:!0,messageType:"transactional",messageId:"issue-view-errors.show-flag.success.flag.success.request-access-success.new-permission-error-view",actions:[{content:i("4ItiH").messages.requestAccessSuccessAction,onClick:()=>{t("/jira/your-work")}}]}),w(!0),f(!1))},[u,l,p,m,r,t,a]),A=()=>e(c).createElement(i("5CSKW").default,{appearance:"primary",onClick:q,isLoading:y,interactionName:"jira-issue-view-errors.ui.new-permission-error-view.request-access-button"},s(i("4ItiH").messages.requestAccessButton));return e(c).createElement(i("kGj4V").ContextualAnalyticsData,{sourceName:o,sourceType:n,attributes:{requestAccessButtonShown:!!u}},e(c).createElement(i("6MnLl").default,{testId:"issue-view-errors.ui.new-permission-error-view.permission-error-view",header:s(i("4ItiH").messages.permissionErrorHeader),description:s(i("4ItiH").messages.permissionErrorDescription),renderImage:(0,i("aTJmy").getAkEmptyStateRenderImageFn)(i("bkcPe").default),primaryAction:u&&!g?(0,i("cxKOj").expVal)("jira_space_request_access_toggle","isEnabled",!1)?e(c).createElement(i("6pJMC").JSErrorBoundary,{id:"jira.issue-view.permission-error-view.request-access-button-wrapper",packageName:"issue-view-errors",teamName:"jira-warepil",fallback:"unmount"},e(c).createElement(d,null,A())):A():null}),e(c).createElement(i("eS29z").FireScreenAnalytics,null))},d=(0,i("1ClZA").isReactCompilerForIssueViewSimplePackagesEnabled)()?e=>{let s,r,t,n=(0,a.c)(6),{children:o}=e,l=(0,i("cHtIB").useCloudId)(),{createAnalyticsEvent:d}=(0,i("ftN6c").useAnalyticsEvents)(),p=(0,u.useLazyLoadQuery)(i("5nkjW").default,{cloudId:l})?.jira;p?.isSpaceRequestAccessEnabled,n[0]!==p?.isSpaceRequestAccessEnabled?(s=p?.isSpaceRequestAccessEnabled?.find(m)?.value,n[0]=p?.isSpaceRequestAccessEnabled,n[1]=s):s=n[1];let y="true"===s;return(n[2]!==d||n[3]!==y?(r=()=>{(0,i("kRgKj").fireTrackAnalytics)(d({}),"requestAccessSiteSetting fetched",{isEnabled:y})},t=[y,d],n[2]=d,n[3]=y,n[4]=r,n[5]=t):(r=n[4],t=n[5]),(0,c.useEffect)(r,t),y)?o:null}:({children:e})=>{let s=(0,i("cHtIB").useCloudId)(),{createAnalyticsEvent:r}=(0,i("ftN6c").useAnalyticsEvents)(),t=(0,u.useLazyLoadQuery)(i("5nkjW").default,{cloudId:s})?.jira,a=(0,c.useMemo)(()=>t?.isSpaceRequestAccessEnabled?.find(({key:e})=>"jira.space.request.access.is-enabled"===e)?.value==="true",[t?.isSpaceRequestAccessEnabled]);return((0,c.useEffect)(()=>{(0,i("kRgKj").fireTrackAnalytics)(r({}),"requestAccessSiteSetting fetched",{isEnabled:a})},[a,r]),a)?e:null};var p=l;function m(e){let{key:s}=e;return"jira.space.request.access.is-enabled"===s}}),c("5nkjW",function(e,r){s(e.exports,"default",()=>o);let t={fragment:{argumentDefinitions:a=[{defaultValue:null,kind:"LocalArgument",name:"cloudId"}],kind:"Fragment",name:"NewPermissionErrorView_RequestAccessToggleQuery",selections:[{kind:"RequiredField",field:{concreteType:"JiraQuery",kind:"LinkedField",name:"jira",plural:!1,selections:[{kind:"RequiredField",field:{alias:"isSpaceRequestAccessEnabled",args:i=[{kind:"Variable",name:"cloudId",variableName:"cloudId"},{kind:"Literal",name:"keys",value:"jira.space.request.access.is-enabled"}],concreteType:"JiraApplicationProperty",kind:"LinkedField",name:"applicationPropertiesByKey",plural:!0,selections:[c={kind:"ScalarField",name:"key"},n={kind:"ScalarField",name:"value"}]},action:"THROW",path:"jira.isSpaceRequestAccessEnabled"}]},action:"THROW",path:"jira"}],type:"Query"},kind:"Request",operation:{argumentDefinitions:a,kind:"Operation",name:"NewPermissionErrorView_RequestAccessToggleQuery",selections:[{concreteType:"JiraQuery",kind:"LinkedField",name:"jira",plural:!1,selections:[{alias:"isSpaceRequestAccessEnabled",args:i,concreteType:"JiraApplicationProperty",kind:"LinkedField",name:"applicationPropertiesByKey",plural:!0,selections:[c,n,{kind:"ScalarField",name:"id"}]}]}]},params:{id:"8d1f87df38b41b5af17857c2c2cd861c1ba8db864d42387ac34687e8b4ff9625",metadata:{},name:"NewPermissionErrorView_RequestAccessToggleQuery",operationKind:"query",text:null}};t.hash="0204584c1d445528acc5918dfdb6ca2b";var a,i,c,n,o=t}),c("bkcPe",function(r,t){s(r.exports,"default",()=>n);var a=i("cfUP4"),c=i("dgAos"),n=(0,i("c4huj").createIllustration)({srcLight:e(c),srcDark:e(a)})}),c("cfUP4",function(e,s){e.exports=new URL("padlock-key-darkmode.78fd8599.svg",import.meta.url).toString()}),c("dgAos",function(e,s){e.exports=new URL("padlock-key.3d73e47c.svg",import.meta.url).toString()}),c("aTJmy",function(r,t){s(r.exports,"getAkEmptyStateRenderImageFn",()=>c);var a=i("eJOHy");function c(s=i("3xT3U").default){return({maxImageWidth:r=160,maxImageHeight:t=160,imageWidth:c,imageHeight:n})=>{let o=(0,a.forwardRef)(({as:s="div",style:c,...n},o)=>e(a).createElement(s,{...n,style:{...c,"--_yv3y2x":(0,i("awdRS").default)(r,"px"),"--_nq7wev":(0,i("awdRS").default)(t,"px")},ref:o,className:(0,i("hcewu").default)(["_1e0c1ule _p12f1x6a _c71lc3ce _19pkidpf _2hwx1wug _otyr1ejb _18u01wug",n.className])}));return e(a).createElement(o,null,e(a).createElement(s,{alt:"",role:"presentation",width:c||"auto",height:n||"auto"}))}}}),c("3xT3U",function(r,t){s(r.exports,"default",()=>n),s(r.exports,"srcLight",()=>e(i("e8HDz"))),s(r.exports,"srcDark",()=>e(i("aiB9q")));var a=i("aiB9q"),c=i("e8HDz"),n=(0,i("c4huj").createIllustration)({srcLight:e(c),srcDark:e(a)})}),c("aiB9q",function(e,s){e.exports=new URL("generic-empty-state-darkmode.27f5dcf1.svg",import.meta.url).toString()}),c("e8HDz",function(e,s){e.exports=new URL("generic-empty-state.1b007192.svg",import.meta.url).toString()});let n="Screen";c("jDcpo",function(e,r){s(e.exports,"requestAccess",()=>t);let t=async(e,s)=>fetch(s||"/rest/internal/latest/project-access/access-requested",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}),c("4ItiH",function(e,r){s(e.exports,"messages",()=>t);let t=(0,i("7qGN1").defineMessages)({permissionErrorHeader:{id:"issue-view-errors.new-permission-error-view.permission-error-header",defaultMessage:"We can't show this project."},permissionErrorDescription:{id:"issue-view-errors.new-permission-error-view.permission-error-description",defaultMessage:"You don't have permission to view it, or it doesn't exist. Contact your admin to request access."},requestAccessButton:{id:"issue-view-errors.new-permission-error-view.request-access-button",defaultMessage:"Request access"},requestAccessSuccessTitle:{id:"issue-view-errors.new-permission-error-view.request-access-success-title",defaultMessage:"Sent access request to admin"},requestAccessSuccessAction:{id:"issue-view-errors.new-permission-error-view.request-access-success-action",defaultMessage:"View your work"}})});let o="workItemPermissionError";r.rlb("FZiGl");
try{performance.mark("NewPermissionErrorView.js:eval-stop")}catch(e){}
//# sourceMappingURL=https://jira-frontend-bifrost.prod-east.frontend.public.atl-paas.net/assets/NewPermissionErrorView.de4fb5a7.js.map
